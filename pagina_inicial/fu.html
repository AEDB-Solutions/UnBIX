<!DOCTYPE html>
<html>
<head>
	<title>TABELA</title>
	<meta charset="utf-8">
</head>
<body>

	<h1>tabela</h1>

	<table border="1" id="table">
		<tr>
			<th>Título</th>
			<th>Descrição</th>
			<th>Categoria</th>
			<th>Emergência</th>
			<th>Local</th>
		</tr>		

	</table>

	<script type="text/javascript">
		//passa o botao um get ate aqui, e faz varios if

if ($_GET = "Infraestrutura")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Infraestrutura");
} 
if ($_GET = "Seguranca")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Seguranca");
} 
if ($_GET = "Iluminacao")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Iluminacao");
} 
if ($_GET = "Bebedouro")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Bebedouro");
} 
if ($_GET = "Banheiro")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Banheiro");
} 
if ($_GET = "Outros")
{
var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Outros");
} 

//var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php?categ =Infraestrutura");
console.log(info)
  /*var reclams = [
	{'cat': "Banheiro", 'rec': "Tá vazando"},
	{'cat': "Banheiro1", 'rec': "Tá vazando5"},
	{'cat': "Banheiro2", 'rec': "Tá vazando6"},
	{'cat': "Banheiro3", 'rec': "Tá vazando7"},
	{'cat': "Banheiro4", 'rec': "Tá vazando8ss"}
	]
*/
var modelo = "<tr>\
		<td>{{ele1}}</td>\
		<td>{{ele2}}</td>\
		<td>{{ele3}}</td>\
		<td>{{ele4}}</td>\
		<td>{{ele5}}</td>\
	</tr>";
console.log(info.length)

for (var i = 0; i < info.length; i++) 
{
		document.getElementById("table").innerHTML += modelo.replace("{{ele1}}", info[i].Titulo).replace("{{ele2}}", info[i].Descricao).replace("{{ele3}}", info[i].Categoria).replace("{{ele4}}", info[i].Emergencia).replace("{{ele5}}", info[i].descricao)
}

function requests(host, method = "GET", data = {}) //ERA OBJETO
{
    var content = null
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() 
    {
    if(this.readyState == 4 && this.status == 200) 
    {
     content = this.responseText
    }
    };

    xhttp.open(method, host, false)
    
    if(method = "GET")
    xhttp.send()
    
    else
    {
      xhttp.setRequestHeader("Content-Type", "application/json");
      xhttp.send(JSON.stringify(data));
      //xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    }
    
    return content;
}
function getting_db_info(host)
{
  var server_awnser = requests(host);

  //console.log("hola", JSON.parse(server_awnser));
  
  return JSON.parse(server_awnser);

}

	</script> 
</body>
</html>