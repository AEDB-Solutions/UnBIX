</!DOCTYPE html>
<html>
<head>
	<title>TABELA</title>
	<meta charset="utf-8">
</head>
<body>

	<h1>tabela</h1>

	<table border="1" id="pedro">
		<tr>
			<th>Categoria</th>
			<th>Reclamação</th>
		</tr>
		<tr>
			<td>Banheiro</td>
			<td>Tá ruim</td>
		</tr>
		<tr>
			<td>Bebedouro</td>	
			<td>Tá rui</td>
		</tr>
		

	</table>



	<script type="text/javascript">
		
  var info = getting_db_info("http://localhost/UnBIX/pagina_inicial/buscacateg.php");
  

  console.log(info)
  /*var reclams = [
	{'cat': "Banheiro", 'rec': "Tá vazando"},
	{'cat': "Banheiro1", 'rec': "Tá vazando5"},
	{'cat': "Banheiro2", 'rec': "Tá vazando6"},
	{'cat': "Banheiro3", 'rec': "Tá vazando7"},
	{'cat': "Banheiro4", 'rec': "Tá vazando8ss"}
	]
*/
	var modelo = "<tr>\
			<td>{{ele1}}</td>\
			<td>{{ele2}}</td>\
		</tr>";

		console.log(info.length)
	for (var i = 0; i < info.length; i++) 
	{
		for (var j = 0; j < info[i].length; j++)
		 {
			document.getElementById("pedro").innerHTML += modelo.replace("{{ele1}}", info[i][j]).replace("{{ele2}}", info[i][j])
		}
	}
 function requests(host, method = "GET", data = {}) //ERA OBJETO
{
    var content = null
    var xhttp = new XMLHttpRequest();
    xhttp.onreadystatechange = function() 
    {
    if(this.readyState == 4 && this.status == 200) 
    {
     content = this.responseText
    }
    };

    xhttp.open(method, host, false)
    
    if(method = "GET")
    xhttp.send()
    
    else
    {
      xhttp.setRequestHeader("Content-Type", "application/json");
      xhttp.send(JSON.stringify(data));
      //xhttp.setRequestHeader("Content-Type", "application/x-www-form-urlencoded");
    }
    
    return content;
}
function getting_db_info(host)
{
  var server_awnser = requests(host);

  //console.log("hola", JSON.parse(server_awnser));
  
  return JSON.parse(server_awnser);

}
	/*var lista = [
	{'cat': "Banheiro", 'rec': "Tá vazando"},
	{'cat': "Banheiro1", 'rec': "Tá vazando5"},
	{'cat': "Banheiro2", 'rec': "Tá vazando6"},
	{'cat': "Banheiro3", 'rec': "Tá vazando7"},
	{'cat': "Banheiro4", 'rec': "Tá vazando8ss"}
	]

	var modelo = "<tr>\
			<td>{{ele1}}</td>\
			<td>{{ele2}}</td>\
		</tr>";

	for (var i = 0; i < lista.length; i++) {
		document.getElementById("pedro").innerHTML += modelo.replace("{{ele1}}", lista[i].cat).replace("{{ele2}}", lista[i].rec)
		
	}

	//document.getElementById("pedro").innerHTML += modelo.replace("{{ele1}}", "giovANnA").replace("{{ele2}}", "larissa")



	/*	window.onload = info;
		function info(){

		novoElemento("table","table","tabela","","body");

		novoElemento("tr","tr","tr1","","tabela");
		novoElemento("td","td","td1","Nome","tr1");
		document.getElementById("td1").colSpan = "2";
		// body...
	}

	function novoElemento(nome,tag,identidade,texto,elementoPai){
		var nome = document.createElement(tag);

		if (identidade != "") {
			nome.setAttribute("id", identidade);

		else
			document.getElementById(elementoPai).appendChild(nome);	
		}


	}*/

	</script> 
</body>
</html>
